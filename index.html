<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–≠–º—É–ª—è—Ç–æ—Ä –∏–≥—Ä</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background: #f0f0f0;
  }

  /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏–≥—Ä—ã –∏ –∫–Ω–æ–ø–∫–∏ –ø–æ–º–æ—â–∏ */
  .game-select-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px; /* –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É select –∏ –∫–Ω–æ–ø–∫–æ–π */
    flex-wrap: wrap;
    margin-bottom: 20px;
  }

  select, button {
    padding: 10px;
    font-size: 16px;
  }

  iframe {
    display: block;
    margin: 0 auto;
    width: 100%;
    max-width: 800px;
    height: 550px;
    border: 2px solid #333;
    border-radius: 8px;
    background: #000;
  }

  /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
  .modal {
    display: none; 
    position: fixed;
    z-index: 1000;
    left: 0; top: 0;
    width: 100%; height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.6);
  }
  .modal-content {
    background-color: #fff;
    margin: 50px auto;
    padding: 20px;
    border: 2px solid #333;
    border-radius: 8px;
    max-width: 800px;
    position: relative;
  }
  .close {
    position: absolute;
    right: 15px; top: 10px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
  }
  .close:hover { color: red; }
  #instruction h2 { text-align: center; }
  #instruction ul { line-height: 1.6; }
</style>
</head>
<body>

<div class="game-select-container">
  <select id="gameSelect">
    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É --</option>
    <option value="https://st.8games.net/11/igra-dendi-chip-i-dejl-speshat-na-pomoshch-2/">Chip & Dale 2</option>
    <option value="https://st.8games.net/11/igra-dendi-chip-i-dejl/">Chip & Dale</option>
    <option value="https://st.8games.net/11/igra-dendi-boevye-zhaby-i-dvojnoj-drakon/">Battletoads & Double Dragon</option>
    <option value="https://st.8games.net/11/igra-dendi-kontra/">Contra</option>
    <option value="https://igroutka.ru/loader/game/37804/">Battletoads</option>
    <option value="https://igroutka.ru/loader/game/37806/">Streets Of Rage</option>
    <option value="https://igroutka.ru/loader/game/37447/">Streets Of Rage 2</option>
  </select>

  <button id="showInstruction">‚ö†Ô∏è</button>
</div>

<iframe id="gameFrame" src="" allowfullscreen></iframe>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
<div id="instructionModal" class="modal">
  <div class="modal-content" id="instruction">
    <span class="close">&times;</span>
    <h2>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è </h2>

    <h3>–û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:</h3>
    <ul>
      <li>‚ñ∂Ô∏è <b>Play / Start</b> ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É.</li>
      <li>‚è∏Ô∏è <b>Pause</b> ‚Äî –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∏–≥—Ä—É –Ω–∞ –ø–∞—É–∑—É.</li>
      <li>‚èπÔ∏è <b>Stop / Reset</b> ‚Äî –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–≥—Ä—É, —Å–±—Ä–æ—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.</li>
      <li>üíæ <b>Save State</b> ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã.</li>
      <li>üìÇ <b>Load State</b> ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.</li>
      <li>üéÆ <b>Controller / Gamepad</b> ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏–ª–∏ –¥–∂–æ–π—Å—Ç–∏–∫–∞.</li>
      <li>‚öôÔ∏è <b>Settings / Options</b> ‚Äî –≤–∏–¥–µ–æ, –∑–≤—É–∫, —Å–∫–æ—Ä–æ—Å—Ç—å —ç–º—É–ª—è—Ü–∏–∏.</li>
      <li>üîä <b>Sound / Mute</b> ‚Äî –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–∞.</li>
      <li>üî≤ <b>Full Screen / –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º</b> ‚Äî —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏–≥—Ä—É –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω </b>).</li>
    </ul>

    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:</h3>
    <ul>
      <li>Up, Down, Left, Right ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ.</li>
      <li>A ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ (–ø—Ä—ã–∂–æ–∫ / —É–¥–∞—Ä).</li>
      <li>B ‚Äî –≤—Ç–æ—Ä–∏—á–Ω–∞—è –∫–Ω–æ–ø–∫–∞ (–∞—Ç–∞–∫–∞ / –±—Ä–æ—Å–æ–∫).</li>
      <li>Start ‚Äî –ø–∞—É–∑–∞ / —Å—Ç–∞—Ä—Ç.</li>
      <li>Select ‚Äî –≤—ã–±–æ—Ä –º–µ–Ω—é.</li>
      <li>–©—ë–ª–∫–Ω–∏—Ç–µ –ø–æ –∫–Ω–æ–ø–∫–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω—É–∂–Ω—É—é –∫–ª–∞–≤–∏—à—É.</li>
    </ul>

    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∂–æ–π—Å—Ç–∏–∫–∞:</h3>
    <ul>
      <li>–ü–æ–¥–∫–ª—é—á–∏—Ç–µ USB/BT –¥–∂–æ–π—Å—Ç–∏–∫.</li>
      <li>–í—ã–±–µ—Ä–∏—Ç–µ Gamepad –≤–º–µ—Å—Ç–æ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.</li>
      <li>–ù–∞–∑–Ω–∞—á—å—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–∂–æ–π—Å—Ç–∏–∫–∞ –Ω–∞ NES-–∫–Ω–æ–ø–∫–∏.</li>
      <li>–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏–≥—Ä–∞–π—Ç–µ —É–¥–æ–±–Ω–æ –∫–∞–∫ –Ω–∞ –ø—Ä–∏—Å—Ç–∞–≤–∫–µ.</li>
    </ul>
  </div>
</div>

<!-- VK Bridge -->
<script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
<script>
  vkBridge.send('VKWebAppInit');

  const select = document.getElementById('gameSelect');
  const iframe = document.getElementById('gameFrame');

  const modal = document.getElementById('instructionModal');
  const btn = document.getElementById('showInstruction');
  const span = document.querySelector('.close');

  // –í—ã–±–æ—Ä –∏–≥—Ä—ã
  select.addEventListener('change', () => {
    const url = select.value;
    iframe.src = url ? url : '';
  });

  // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
  btn.addEventListener('click', () => {
    modal.style.display = 'block';
  });

  // –ó–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ –ø–æ –∫—Ä–µ—Å—Ç–∏–∫—É
  span.addEventListener('click', () => {
    modal.style.display = 'none';
  });

  // –ó–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  window.addEventListener('click', (e) => {
    if (e.target === modal) {
      modal.style.display = 'none';
    }
  });
</script>

</body>
</html>
